{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://github.com/phaux/game-api/blob/decision-0001/docs/schemas/match-flow/claims/match-allocation.json",
    "title": "Match allocation claims",
    "description": "Claims in a JWT that lets the participant join a match.",
    "type": "object",
    "required": [
        "sub",
        "iss",
        "aud",
        "exp",
        "match_id",
        "config",
        "participants",
        "conn"
    ],
    "properties": {
        "sub": {
            "description": "ID of the participant using the token.",
            "$ref": "./participant-id.json"
        },
        "iss": {
            "type": "string",
            "const": "serverlist"
        },
        "aud": {
            "description": "Game server that the match should be run on.",
            "type": "string",
            "minLength": 1
        },
        "exp": {
            "type": "number"
        },
        "match_id": {
            "type": "string",
            "minLength": 1
        },
        "config": {
            "type": "object"
        },
        "participants": {
            "type": "array",
            "items": {
                "description": "ID of the participant using the token.",
                "$ref": "./participant-id.json"
            }
        },
        "conn": {
            "type": "string",
            "format": "iri"
        }
    }
}